{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";export const STATUS=Object.freeze({IDLE:'idle',ERROR:'error',LOADING:'loading'// PRODUCT_DETAILS_REQUEST,\n// PRODUCT_DETAILS_SUCCESS,\n// PRODUCT_DETAILS_FAIL,\n});const UserSlice=createSlice({name:\"user\",initialState:{status:STATUS.ERROR,userDetail:localStorage.getItem(\"yogesh_login_signup_register\")?JSON.parse(localStorage.getItem(\"yogesh_login_signup_register\")):{},// userLogin : {},\n// userLogin : {}\nuserLogin:localStorage.getItem(\"yogesh_login_signup\")?JSON.parse(localStorage.getItem(\"yogesh_login_signup\")):{}},reducers:{getStatus(state,action){state.status=action.payload;},getUserDetail(state,action){state.userDetail=action.payload;},getUserLogin(state,action){state.userLogin=action.payload;}}});export default UserSlice.reducer;export const{getStatus,getUserDetail,getUserLogin}=UserSlice.actions;export function RegisterReducer(name,email,password){// console.log(\"slice\" , obj); \nreturn async function RegisterThunk(dispatch,thunk){dispatch(getStatus(STATUS.LOADING));// const config = { headers : { \"Content-Type\" : \"application/json\"}};\ntry{//  console.log(\"slice\" , obj); \n// const {data} = await axios.post(`/api/login`, { email , password} , config)\nconst{data}=await axios.post(\"\".concat(window.location.origin,\"/api/register\"),{name,email,password});// const {data} = await axios.post(`http://localhost:4000/api/register`, {name , email , password})\n// console.log(\"datad \", data)\ndispatch(getStatus(STATUS.IDLE));dispatch(getUserDetail(data));localStorage.setItem('yogesh_login_signup_register',JSON.stringify(data));}catch(error){dispatch(getStatus(STATUS.ERROR));}};}// login \nexport function LoginReducer(email,password){// console.log(\"slice\" , obj); \nreturn async function LoginThunk(dispatch,getState){dispatch(getStatus(STATUS.LOADING));// const config = { headers : { \"Content-Type\" : \"application/json\"}};\ntry{//  console.log(\"slice\" , obj); \n// const {data} = await axios.post(`/api/login`, { email , password} , config)\nconst{data}=await axios.post(\"\".concat(window.location.origin,\"/api/login\"),{email,password});// const {data} = await axios.post(`http://localhost:4000/api/login`, { email , password})\n// console.log(\"datad \", data)\ndispatch(getStatus(STATUS.IDLE));dispatch(getUserLogin(data));// localStorage.setItem('yogesh_login_signup' , JSON.stringify(getState().user.userLogin))  \nlocalStorage.setItem('yogesh_login_signup',JSON.stringify(data));}catch(error){dispatch(getStatus(STATUS.ERROR));}};}// http://192.168.1.3:3000","map":{"version":3,"names":["createSlice","axios","STATUS","Object","freeze","IDLE","ERROR","LOADING","UserSlice","name","initialState","status","userDetail","localStorage","getItem","JSON","parse","userLogin","reducers","getStatus","state","action","payload","getUserDetail","getUserLogin","reducer","actions","RegisterReducer","email","password","RegisterThunk","dispatch","thunk","data","post","concat","window","location","origin","setItem","stringify","error","LoginReducer","LoginThunk","getState"],"sources":["/Users/yogesh/Desktop/Code/MERN/Yogesh_Login/frontend/src/Store/Slice/UserSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\"\n\nexport const STATUS = Object.freeze({\n    IDLE: 'idle',\n    ERROR: 'error',\n    LOADING: 'loading',\n    // PRODUCT_DETAILS_REQUEST,\n    // PRODUCT_DETAILS_SUCCESS,\n    // PRODUCT_DETAILS_FAIL,\n});\n\nconst UserSlice = createSlice({\n    name:\"user\",\n    initialState:{\n        status: STATUS.ERROR,\n        userDetail : localStorage.getItem(\"yogesh_login_signup_register\") ? JSON.parse(localStorage.getItem(\"yogesh_login_signup_register\")) : {},\n        // userLogin : {},\n        // userLogin : {}\n        userLogin : localStorage.getItem(\"yogesh_login_signup\") ? JSON.parse(localStorage.getItem(\"yogesh_login_signup\")) : {}\n    },\n    reducers:{\n        getStatus(state,action){\n            state.status = action.payload;\n        },\n        getUserDetail(state,action){\n            state.userDetail = action.payload\n        },\n        getUserLogin(state,action){\n            state.userLogin = action.payload\n        }\n\n\n    }\n})\n\nexport default UserSlice.reducer;\n\nexport const {getStatus , getUserDetail , getUserLogin } = UserSlice.actions\n\n\nexport function RegisterReducer(name , email , password){\n    // console.log(\"slice\" , obj); \n    return async function RegisterThunk(dispatch , thunk) {\n\n        dispatch(getStatus(STATUS.LOADING))\n\n        // const config = { headers : { \"Content-Type\" : \"application/json\"}};\n        try{\n\n            //  console.log(\"slice\" , obj); \n\n            \n            // const {data} = await axios.post(`/api/login`, { email , password} , config)\n\n            const {data} = await axios.post(`${window.location.origin}/api/register`, {name , email , password})\n            // const {data} = await axios.post(`http://localhost:4000/api/register`, {name , email , password})\n            // console.log(\"datad \", data)\n            dispatch(\n                getStatus(STATUS.IDLE),\n            )\n            dispatch(\n                getUserDetail(data),\n            )\n\n            localStorage.setItem('yogesh_login_signup_register' , JSON.stringify(data));\n\n\n        }catch(error){\n            dispatch (getStatus(STATUS.ERROR))\n        }\n    }\n}\n\n\n\n\n// login \n\nexport function LoginReducer( email , password){\n    // console.log(\"slice\" , obj); \n    return async function LoginThunk(dispatch , getState) {\n\n        dispatch(getStatus(STATUS.LOADING))\n\n        // const config = { headers : { \"Content-Type\" : \"application/json\"}};\n        try{\n\n            //  console.log(\"slice\" , obj); \n\n            \n            // const {data} = await axios.post(`/api/login`, { email , password} , config)\n\n            const {data} = await axios.post(`${window.location.origin}/api/login`, { email , password})\n            // const {data} = await axios.post(`http://localhost:4000/api/login`, { email , password})\n            // console.log(\"datad \", data)\n            dispatch(\n                getStatus(STATUS.IDLE),\n            )\n            dispatch(\n                getUserLogin(data),\n            )\n\n            // localStorage.setItem('yogesh_login_signup' , JSON.stringify(getState().user.userLogin))  \n            localStorage.setItem('yogesh_login_signup' , JSON.stringify(data));\n        }catch(error){\n            dispatch (getStatus(STATUS.ERROR))\n        }\n    }\n}\n\n\n// http://192.168.1.3:3000 "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}